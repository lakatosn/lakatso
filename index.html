<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Desafios do Nosso Amor ğŸ’˜</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background: linear-gradient(135deg, #f9e3f1 0%, #f8c8dc 100%);
      text-align: center;
      margin: 0;
      padding: 0;
      overflow: hidden;
      min-height: 100vh;
    }
    
    h1 {
      color: #b83280;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
      margin-top: 30px;
    }
    
    .puzzle {
      display: grid;
      grid-template-columns: 1fr;
      width: 300px;
      margin: 20px auto;
    }
    
    .puzzle img {
      width: 100%;
      display: none;
      border-radius: 10px;
      border: 4px solid white;
      box-shadow: 0 0 20px rgba(184, 50, 128, 0.5);
      transition: transform 0.5s ease;
    }
    
    .puzzle img:hover {
      transform: scale(1.02);
    }
    
    .question {
      margin: 20px auto;
      padding: 20px;
      background-color: rgba(255, 240, 246, 0.9);
      width: 90%;
      max-width: 400px;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
      backdrop-filter: blur(5px);
    }
    
    .hidden {
      display: none;
    }
    
    button {
      margin-top: 10px;
      padding: 12px 24px;
      background: linear-gradient(45deg, #ff69b4, #b83280);
      color: white;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.3s ease;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    
    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0,0,0,0.15);
      background: linear-gradient(45deg, #b83280, #ff69b4);
    }
    
    #finalMessage {
      display: none;
      font-size: 20px;
      margin: 30px auto;
      color: #b83280;
      max-width: 500px;
      padding: 20px;
      background-color: rgba(255, 240, 246, 0.9);
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(184, 50, 128, 0.3);
    }
    
    #finalMessage h2 {
      margin-bottom: 20px;
    }
    
    input {
      padding: 10px;
      border: 2px solid #ffb6d9;
      border-radius: 20px;
      width: 80%;
      margin-top: 10px;
    }
    
    input:focus {
      outline: none;
      border-color: #b83280;
    }
    
    .heart {
      position: absolute;
      width: 20px;
      height: 20px;
      background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23ff69b4"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>') no-repeat;
      pointer-events: none;
      opacity: 0.6;
      animation: float 6s ease-in-out infinite;
    }
    
    @keyframes float {
      0% { transform: translateY(0) rotate(0deg); opacity: 0.6; }
      100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
    }
    
    .music-link {
      color: #b83280;
      text-decoration: none;
      font-weight: bold;
      background-color: #fff0f6;
      padding: 10px 20px;
      border-radius: 25px;
      display: inline-block;
      margin-top: 20px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    
    .music-link:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0,0,0,0.15);
      background-color: #ffd6e7;
    }
  </style>
</head>
<body>
  <h1>Desafios do Nosso Amor ğŸ’˜</h1>

  <div class="puzzle">
    <img id="finalImage" src="final.png" style="display: none;">
  </div>

  <div id="questions">
    <div class="question" id="q1">
      <p>1. O que faz seu coraÃ§Ã£o bater mais forte nesse mundo?</p>
      <input type="text" id="a1" placeholder="A resposta estÃ¡ no seu coraÃ§Ã£o ğŸ’–" />
      <button onclick="checkAnswer(1, 'Meu Namorado')">Enviar Amor</button>
    </div>
    <div class="question hidden" id="q2">
      <p>2. Desembaralhe a palavra: ETIFRPAE</p>
      <p><small>(Dica: Ã‰ como eu te faÃ§o sentir)</small></p>
      <input type="text" id="a2" placeholder="Digite a palavra correta" />
      <button onclick="checkAnswer(2, 'perfeita')">Verificar</button>
    </div>
    <div class="question hidden" id="q3">
      <p>3. Encontre o coraÃ§Ã£o que representa nosso amor ğŸ’œâ¤ï¸ğŸ’›ğŸ’šğŸ’™ğŸ§¡ğŸ’–ğŸ’—ğŸ’“</p>
      <div style="margin-top: 15px;">
        <button onclick="checkAnswer(3, 'ğŸ’–')" style="font-size: 24px; margin: 5px;">ğŸ’œ</button>
        <button onclick="checkAnswer(3, 'ğŸ’–')" style="font-size: 24px; margin: 5px;">â¤ï¸</button>
        <button onclick="checkAnswer(3, 'ğŸ’–')" style="font-size: 24px; margin: 5px;">ğŸ’›</button>
        <button onclick="checkAnswer(3, 'ğŸ’–')" style="font-size: 24px; margin: 5px;">ğŸ’š</button>
        <button onclick="checkAnswer(3, 'ğŸ’–')" style="font-size: 24px; margin: 5px;">ğŸ’™</button>
        <button onclick="checkAnswer(3, 'ğŸ’–')" style="font-size: 24px; margin: 5px;">ğŸ§¡</button>
        <button onclick="checkAnswer(3, 'ğŸ’–')" style="font-size: 24px; margin: 5px;">ğŸ’–</button>
        <button onclick="checkAnswer(3, 'ğŸ’–')" style="font-size: 24px; margin: 5px;">ğŸ’—</button>
        <button onclick="checkAnswer(3, 'ğŸ’–')" style="font-size: 24px; margin: 5px;">ğŸ’“</button>
      </div>
    </div>
    <div class="question hidden" id="q4">
      <p>4. Digite a senha secreta do meu coraÃ§Ã£o:</p>
      <p><small>Dica: MÃªs do Black Friday e do escorpiÃ£o â™<br/>Veio depois dos dinossauros... mas antes de vocÃª me conhecer ğŸ˜œ</small></p>
      <input type="text" id="a4" placeholder="DD/MM/AAAA" />
      <button onclick="checkAnswer(4, '21/11/2001')">Desvendar</button>
    </div>
    <div class="question hidden" id="q5">
      <p>5. Que mÃºsica especial os emojis representam? ğŸ¦ğŸ’œ</p>
      <p><small>(Nossa mÃºsica favorita!)</small></p>
      <input type="text" id="a5" placeholder="Nome da mÃºsica" />
      <button onclick="checkAnswer(5, 'gorila roxo')">Descobrir</button>
    </div>
  </div>

  <div id="finalMessage">
    <h2> ParabÃ©ns, meu amor! ğŸ’–</h2>
    <p> VocÃª conquistou todos os desafios, assim como conquistou meu coraÃ§Ã£o.</p>
    <p> Cada dia ao seu lado Ã© uma aventura incrÃ­vel, e eu mal posso esperar por todos os outros que ainda estÃ£o por vir.</p>
    <p> Feliz dia dos namorados, meu amor! VocÃª Ã© a pessoa mais especial da minha vida! ğŸ’˜</p>
    <a href="https://www.youtube.com/watch?v=BUL7zecHZjA" target="_blank" class="music-link">
      ğŸµ Clique aqui para nossa mÃºsica especial: Gorila Roxo
    </a>
  </div>

  <div style="display:none;">
    <iframe 
      width="0" 
      height="0" 
      src="https://www.youtube.com/embed/BUL7zecHZjA?autoplay=1&loop=1&playlist=BUL7zecHZjA" 
      frameborder="0" 
      allow="autoplay"
    ></iframe>
  </div>

  <script>
    // Cria coraÃ§Ãµes flutuantes ao carregar a pÃ¡gina
    document.addEventListener('DOMContentLoaded', function() {
      createHearts(15);
      
      // Cria alguns coraÃ§Ãµes periodicamente
      setInterval(() => {
        createHearts(3);
      }, 3000);
    });
    
    function checkAnswer(n, correct) {
      const input = document.getElementById('a' + n);
      let value = input ? input.value.trim().toLowerCase() : correct.toLowerCase();
      
      if (value === correct.toLowerCase()) {
        // Efeito de confete para respostas corretas
        createHearts(10);
        
        document.getElementById('q' + n).classList.add('hidden');
        if (n < 5) {
          document.getElementById('q' + (n + 1)).classList.remove('hidden');
        } else {
          // Efeito especial para a Ãºltima resposta
          createHearts(50);
          document.getElementById('finalImage').style.display = 'block';
          document.getElementById('finalMessage').style.display = 'block';
          document.getElementById('questions').style.display = 'none';
          
          // Efeito de digitaÃ§Ã£o no texto final
          typeWriter();
          
        }
      } else {
        alert('Quase lÃ¡, amor! Tenta de novo ğŸ’–');
      }
    }

    
    
    // FunÃ§Ã£o para criar coraÃ§Ãµes
    function createHearts(count) {
      for (let i = 0; i < count; i++) {
        const heart = document.createElement('div');
        heart.classList.add('heart');
        heart.style.left = Math.random() * 100 + 'vw';
        heart.style.top = (Math.random() * 20 + 80) + 'vh';
        heart.style.transform = 'scale(' + (Math.random() * 0.5 + 0.5) + ')';
        heart.style.animationDuration = Math.random() * 3 + 3 + 's';
        document.body.appendChild(heart);
        
        setTimeout(() => {
          heart.remove();
        }, 6000);
      }
    }
    
    // Efeito de mÃ¡quina de escrever
    // Substitua a funÃ§Ã£o typeWriter() atual por esta versÃ£o corrigida:
function typeWriter() {
  const element = document.getElementById('finalMessage');
  const originalContent = element.innerHTML;
  
  // Dividimos o conteÃºdo em partes que sÃ£o texto puro e partes que sÃ£o HTML
  const parts = [];
  let lastIndex = 0;
  let match;
  
  // Usamos uma regex para encontrar todas as tags HTML
  const tagRegex = /<[^>]+>/g;
  
  while ((match = tagRegex.exec(originalContent)) !== null) {
    // Texto antes da tag
    if (match.index > lastIndex) {
      parts.push({
        type: 'text',
        content: originalContent.substring(lastIndex, match.index)
      });
    }
    // A tag em si
    parts.push({
      type: 'html',
      content: match[0]
    });
    lastIndex = match.index + match[0].length;
  }
  
  // Texto apÃ³s a Ãºltima tag
  if (lastIndex < originalContent.length) {
    parts.push({
      type: 'text',
      content: originalContent.substring(lastIndex)
    });
  }
  
  // Limpamos o elemento
  element.innerHTML = '';
  
  let currentPart = 0;
  let currentPos = 0;
  const speed = 30; // velocidade da digitaÃ§Ã£o
  
  function typeNext() {
    if (currentPart >= parts.length) return;
    
    const part = parts[currentPart];
    
    if (part.type === 'html') {
      // Se for HTML, adicionamos imediatamente
      element.innerHTML += part.content;
      currentPart++;
      setTimeout(typeNext, speed);
    } else {
      // Se for texto, digitamos caractere por caractere
      if (currentPos < part.content.length) {
        element.innerHTML += part.content.charAt(currentPos);
        currentPos++;
        setTimeout(typeNext, speed);
      } else {
        currentPart++;
        currentPos = 0;
        setTimeout(typeNext, speed);
      }
    }
  }
  
  typeNext();
}
  </script>
</body>
</html>
